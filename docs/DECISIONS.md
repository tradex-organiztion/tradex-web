# Tradex 의사결정 문서

> **최종 업데이트**: 2026-03-01
> **목적**: 프로젝트 주요 기술/기획 결정 사항 기록

---

## 상태 범례

| 상태 | 설명 |
|------|------|
| 🟢 확정 | 결정 완료, 구현 반영됨 |
| 🟡 부분확정 | 일부만 결정/구현됨 |
| 🔴 미정 | 아직 결정되지 않음 |

---

## 결정 요약 테이블

| # | 항목 | 상태 | 결정 내용 | 결정일 |
|---|------|------|-----------|--------|
| 1 | 소셜 로그인 제공자 | 🟢 확정 | Google + Kakao | 2026-01 |
| 2 | 비밀번호 정책 | 🟢 확정 | 최소 8자 (백엔드 Swagger 기준) | 2026-01 |
| 3 | AI 모델 | 🟢 확정 | 백엔드 결정 (프론트는 SSE 스트리밍 API만 사용) | 2026-02 |
| 4 | 음성 입력 | 🟡 부분확정 | UI 버튼만 구현, 실제 음성인식 미연결 (기획 미확정) | - |
| 5 | 지원 거래소 | 🟢 확정 | Binance, Bybit, Bitget (백엔드 Swagger 기준) | 2026-01 |
| 6 | 실시간 데이터 방식 | 🟢 확정 | Binance 직접 WebSocket + 백엔드 SSE | 2026-02 |
| 7 | 차트 라이브러리 | 🟢 확정 | TradingView Charting Library v30 | 2026-01 |
| 8 | 리스크 계산 공식 | 🟢 확정 | 백엔드 API 기반 (riskApi 5개 카테고리) | 2026-02 |
| 9 | 결제 시스템 | 🟢 확정 | 토스페이먼츠 (빌링키 방식) | 2026-02 |
| 10 | 구독 플랜 구성 | 🟢 확정 | Free / Pro / Enterprise (백엔드 API 기준) | 2026-02 |
| 11 | 지원 언어 | 🟢 확정 | 한국어만 (글로벌 확장은 추후) | 2026-01 |
| 12 | 알림 채널 | 🟢 확정 | 앱 내 알림만 (브라우저 푸시/이메일 미구현) | 2026-01 |

---

## 1. 인증 (Auth)

### 1.1 소셜 로그인 제공자 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | Google + Kakao |
| **결정일** | 2026-01 |
| **구현 위치** | `lib/api/auth.ts` → `OAUTH_URLS`, `app/(auth)/login/` |
| **비고** | 백엔드 OAuth2 엔드포인트 기준. Naver는 백엔드에 URL 존재하나 UI 미노출 |

---

### 1.2 비밀번호 정책 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | 최소 8자 (백엔드 Swagger 명세 기준) |
| **결정일** | 2026-01 |
| **구현 위치** | `app/(auth)/signup/` 폼 검증 |

---

## 2. Tradex AI

### 2.1 AI 모델 선정 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | 백엔드 결정 (프론트는 SSE 스트리밍 API 호출만 담당) |
| **결정일** | 2026-02 |
| **구현 위치** | `lib/api/ai.ts` → `aiApi.streamChat()` (SSE), `chatSessionApi` |
| **비고** | 모델 종류는 백엔드 의존. 프론트는 스트리밍 텍스트 렌더링만 처리 |

---

### 2.2 음성 입력 지원 🟡 부분확정

| 항목 | 내용 |
|------|------|
| **결정** | UI 버튼만 구현 (실제 음성인식 미연결) |
| **현황** | 마이크 아이콘 버튼 표시만 있음, 클릭 동작 없음 |
| **미결** | Web Speech API vs Whisper API 미확정 |
| **구현 위치** | `components/layout/TradexAIPanel.tsx` |

---

## 3. 거래소 연동

### 3.1 지원 거래소 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | Binance, Bybit, Bitget |
| **결정일** | 2026-01 |
| **구현 위치** | `lib/api/auth.ts` `CompleteProfileRequest`, `lib/api/exchange.ts` |
| **비고** | 백엔드 Swagger `exchangeName` enum 기준 |

---

### 3.2 실시간 데이터 제공 방식 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | 차트: Binance 직접 WebSocket / AI: 백엔드 SSE |
| **결정일** | 2026-02 |
| **구현 위치** | `lib/api/chart.ts` (Binance 직접), `lib/api/ai.ts` (SSE) |

---

### 3.3 차트 라이브러리 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | TradingView Charting Library v30 (상용 라이선스) |
| **결정일** | 2026-01 |
| **구현 위치** | `components/chart/TVChartContainer.tsx`, `lib/chart/` |
| **비고** | 커스텀 datafeed (Binance 직접), save/load adapter (chartLayoutApi) 구현 완료 |

---

## 4. 분석

### 4.1 리스크 계산 공식 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | 백엔드 API 기반 (5개 카테고리: 진입/청산/포지션/시간/감정 리스크) |
| **결정일** | 2026-02 |
| **구현 위치** | `lib/api/analysis.ts` → `riskApi` |

---

## 5. 결제/구독

### 5.1 결제 시스템 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | 토스페이먼츠 (빌링키 방식 정기결제) |
| **결정일** | 2026-02 |
| **구현 위치** | `lib/api/subscription.ts`, `app/(main)/billing/success/`, `app/(main)/billing/fail/` |
| **비고** | `@tosspayments/tosspayments-sdk` 설치. `NEXT_PUBLIC_TOSS_CLIENT_KEY` 환경변수 필요 |

---

### 5.2 구독 플랜 구성 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | Free / Pro / Enterprise (백엔드 API 기준) |
| **결정일** | 2026-02 |
| **구현 위치** | `components/settings/SettingsModal.tsx` → `SubscriptionSettings` |
| **비고** | 플랜별 가격/기능은 백엔드 `subscriptionApi.getPlans()` 응답 기준 |

---

## 6. 기타

### 6.1 지원 언어 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | 한국어만 (MVP) |
| **결정일** | 2026-01 |
| **비고** | 글로벌 확장 시 i18n 라이브러리 도입 필요 |

---

### 6.2 알림 채널 🟢 확정

| 항목 | 내용 |
|------|------|
| **결정** | 앱 내 알림만 |
| **결정일** | 2026-01 |
| **구현 위치** | `app/(main)/inbox/`, `lib/api/notification.ts` |
| **비고** | 브라우저 푸시 / 이메일 / 텔레그램 알림은 미구현 (추후 검토) |

---

## 미결 사항 (실제)

| # | 항목 | 내용 | 비고 |
|---|------|------|------|
| 1 | 음성 입력 방식 | Web Speech API vs Whisper API 미결정 | 기획 확정 후 구현 |
| 2 | 닉네임/프로필 수정 API | 백엔드 `PATCH /api/users/me` 미구현 | 백엔드 대응 후 프론트 연동 |
| 3 | 프로필 이미지 업로드 | 백엔드 이미지 업로드 API 미구현 | 백엔드 대응 후 프론트 연동 |

---

*결정 시 이 문서를 업데이트하고 관련 스펙 문서도 함께 수정해주세요.*
